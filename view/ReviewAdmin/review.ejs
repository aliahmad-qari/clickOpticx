<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Reviews</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="vendors/feather/feather.css">
  <link rel="stylesheet" href="vendors\ti-icons\css\themify-icons.css">
  <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="vendors\ti-icons\css\themify-icons.css">
  <link rel="stylesheet" type="text/css" href="js/select.dataTables.min.css">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="css/vertical-layout-light/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" href="images/favicon.png" />

  <!-- Material Design Icons CSS -->
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css" rel="stylesheet">

</head>
<style>
  .single_advisor_profile {
    position: relative;
    margin-bottom: 50px;
    -webkit-transition-duration: 500ms;
    transition-duration: 500ms;
    z-index: 1;
    border-radius: 15px;
    -webkit-box-shadow: 0 0.25rem 1rem 0 rgba(47, 91, 234, 0.125);
    box-shadow: 0 0.25rem 1rem 0 rgba(47, 91, 234, 0.125);
  }

  .single_advisor_profile .advisor_thumb {
    position: relative;
    z-index: 1;
    border-radius: 15px 15px 0 0;
    margin: 0 auto;
    padding: 30px 30px 0 30px;
    background-color: #3f43fd;
    overflow: hidden;
  }

  .single_advisor_profile .advisor_thumb::after {
    -webkit-transition-duration: 500ms;
    transition-duration: 500ms;
    position: absolute;
    width: 150%;
    height: 80px;
    bottom: -45px;
    left: -25%;
    content: "";
    background-color: #ffffff;
    -webkit-transform: rotate(-15deg);
    transform: rotate(-15deg);
  }

  @media only screen and (max-width: 575px) {
    .single_advisor_profile .advisor_thumb::after {
      height: 160px;
      bottom: -90px;
    }
  }

  .single_advisor_profile .advisor_thumb .social-info {
    position: absolute;
    z-index: 1;
    width: 100%;
    bottom: 0;
    right: 30px;
    text-align: right;
  }

  .single_advisor_profile .advisor_thumb .social-info a {
    font-size: 14px;
    color: #020710;
    padding: 0 5px;
  }

  .single_advisor_profile .advisor_thumb .social-info a:hover,
  .single_advisor_profile .advisor_thumb .social-info a:focus {
    color: #3f43fd;
  }

  .single_advisor_profile .advisor_thumb .social-info a:last-child {
    padding-right: 0;
  }

  .single_advisor_profile .single_advisor_details_info {
    position: relative;
    z-index: 1;
    padding: 30px;
    text-align: right;
    -webkit-transition-duration: 500ms;
    transition-duration: 500ms;
    border-radius: 0 0 15px 15px;
    background-color: #ffffff;
  }

  .single_advisor_profile .single_advisor_details_info::after {
    -webkit-transition-duration: 500ms;
    transition-duration: 500ms;
    position: absolute;
    z-index: 1;
    width: 50px;
    height: 3px;
    background-color: #3f43fd;
    content: "";
    top: 12px;
    right: 30px;
  }

  .single_advisor_profile .single_advisor_details_info h6 {
    margin-bottom: 0.25rem;
    -webkit-transition-duration: 500ms;
    transition-duration: 500ms;
  }

  @media only screen and (min-width: 768px) and (max-width: 991px) {
    .single_advisor_profile .single_advisor_details_info h6 {
      font-size: 14px;
    }
  }

  .single_advisor_profile .single_advisor_details_info p {
    -webkit-transition-duration: 500ms;
    transition-duration: 500ms;
    margin-bottom: 0;
    font-size: 14px;
  }

  @media only screen and (min-width: 768px) and (max-width: 991px) {
    .single_advisor_profile .single_advisor_details_info p {
      font-size: 12px;
    }
  }

  .single_advisor_profile:hover .advisor_thumb::after,
  .single_advisor_profile:focus .advisor_thumb::after {
    background-color: #070a57;
  }

  .single_advisor_profile:hover .advisor_thumb .social-info a,
  .single_advisor_profile:focus .advisor_thumb .social-info a {
    color: #ffffff;
  }

  .single_advisor_profile:hover .advisor_thumb .social-info a:hover,
  .single_advisor_profile:hover .advisor_thumb .social-info a:focus,
  .single_advisor_profile:focus .advisor_thumb .social-info a:hover,
  .single_advisor_profile:focus .advisor_thumb .social-info a:focus {
    color: #ffffff;
  }

  .single_advisor_profile:hover .single_advisor_details_info,
  .single_advisor_profile:focus .single_advisor_details_info {
    background-color: #070a57;
  }

  .single_advisor_profile:hover .single_advisor_details_info::after,
  .single_advisor_profile:focus .single_advisor_details_info::after {
    background-color: #ffffff;
  }

  .single_advisor_profile:hover .single_advisor_details_info h6,
  .single_advisor_profile:focus .single_advisor_details_info h6 {
    color: #ffffff;
  }

  .single_advisor_profile:hover .single_advisor_details_info p,
  .single_advisor_profile:focus .single_advisor_details_info p {
    color: #ffffff;
  }

  .single_advisor_profile {
    transition: transform 0.3s;
  }

  .single_advisor_profile:hover {
    transform: translateY(-5px);
  }

  .single_advisor_profile:hover .social-info i {
    color: yellow;
  }

  .social-info i {
    color: #ccc;
    /* default star color */
    transition: color 0.3s;
  }

  .advisor_thumb img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 50%;
  }
</style>

<body>
  <div class="container-scroller">

    <%- include ('../partials/_navbar.ejs') %>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_settings-panel.html -->
        <%- include ('../partials/SettingsDow.ejs') %>

          <!-- partial:partials/_sidebar.html Start-->
          <%- include ('../partials/Sidebar.ejs') %>
            <!-- partial:partials/_sidebar.html End -->


            <div class="card col-md-10 col-lg-10 mx-auto">

              <div class="card-body">

                <!-- sss --> <!-- sss --> <!-- sss --> <!-- sss -->
                <% if (messages.success) { %>
                  <div style="display: flex; justify-content: end;">
                    <div id="pusher-message-box" style="
            display: flex;
            border-left: 8px solid #45439e;
            color: green;
            font-weight: bold;
            font-size: 16px;
            justify-content: end;
            align-items: center;
            height: 70px;
          " class="mt-3 alert alert-primary">
                      <%= messages.success %>
                    </div>
                  </div>
                  <% } %>
                    <script>
                      window.addEventListener('DOMContentLoaded', () => {
                        const msgBox = document.getElementById('pusher-message-box');
                        if (msgBox) {
                          setTimeout(() => {
                            msgBox.style.transition = "opacity 0.5s";
                            msgBox.style.opacity = 0;
                            setTimeout(() => msgBox.style.display = "none", 500);
                          }, 4000);
                        }
                      });
                    </script>
                    <!-- sss --> <!-- sss --> <!-- sss --> <!-- sss -->
                    <div class="container">
                      <div class="row justify-content-center">
                        <div class="col-12 col-sm-8 col-lg-6">
                          <!-- Section Heading-->
                          <div class="section_heading text-center wow fadeInUp" data-wow-delay="0.2s"
                            style="visibility: visible; animation-delay: 0.2s; animation-name: fadeInUp;">
                            <h3 style="padding:20px;margin-bottom: 17px;">What People Say <span> About Us</span></h3>
                            <div class="line"></div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <!-- Single Advisor-->

                        <% const avatars=[ "https://bootdey.com/img/Content/avatar/avatar1.png"
                          , "https://bootdey.com/img/Content/avatar/avatar2.png"
                          , "https://bootdey.com/img/Content/avatar/avatar6.png"
                          , "https://bootdey.com/img/Content/avatar/avatar7.png" ]; %>

                          <% feedback.forEach(function(feedback, index) { %>
                            <div class="col-12 col-sm-6 col-lg-3">
                              <div class="single_advisor_profile wow fadeInUp" data-wow-delay="0.3s"
                                style="visibility: visible; animation-delay: 0.3s; animation-name: fadeInUp;">

                                <!-- Team Thumb-->
                                <div class="advisor_thumb">
                                  <img src="<%= avatars[index % avatars.length] %>" alt="User Avatar"
                                    style="width: 100px; height: 100px; object-fit: cover; border-radius: 50%;">

                                  <!-- Social Info-->
                                  <div class="social-info">
                                    <% for (let i=1; i <=5; i++) { %>
                                      <% if (i <=feedback.rating) { %>
                                        <i class="bi bi-star-fill"></i>
                                        <% } else if (i - 0.5===feedback.rating) { %>
                                          <i class="bi bi-star-half"></i>
                                          <% } else { %>
                                            <i class="bi bi-star"></i>
                                            <% } %>
                                              <% } %>
                                  </div>
                                </div>

                                <!-- Team Details-->
                                <div class="single_advisor_details_info">
                                  <h6>
                                    <%= feedback.first_name %>
                                      <%= feedback.last_name %>
                                  </h6>
                                  <p>
                                    <%= feedback.email %>
                                  </p>
                                  <p class="designation">
                                    <%= feedback.feedback_text %>
                                  </p>
                                </div>

                                <!-- Delete button pushed to bottom -->
                                <form action="/delete-feedback/<%= feedback.id %>" method="POST"
                                  onsubmit="return confirm('Are you sure you want to delete this feedback?');"
                                  class="mt-auto">
                                  <button type="submit" class="btn btn-danger btn-sm w-100">Delete</button>
                                </form>

                              </div>
                            </div>
                            <% }); %>



                              <!-- Single Advisor-->

                      </div>
                    </div>
              </div>

            </div>
      </div>

  </div>
  </div>

  <!-- Update Modal End --><!-- Update Modal End -->

  <!-- plugins:js -->
  <script src="vendors\js\vendor.bundle.base.js"></script>
  <!-- endinject -->
  <!-- Plugin js for this page -->
  <script src="vendors\chart.js/Chart.min.js"></script>
  <script src="vendors/datatables.net/jquery.dataTables.js"></script>
  <script src="vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
  <script src="js/dataTables.select.min.js"></script>

  <!-- End plugin js for this page -->
  <!-- inject:js -->
  <script src="js/off-canvas.js"></script>
  <script src="js/hoverable-collapse.js"></script>
  <script src="js/template.js"></script>
  <script src="js/settings.js"></script>
  <!-- endinject -->
  <!-- Custom js for this page-->
  <script src="js/dashboard.js"></script>
  <script src="js/Chart.roundedBarCharts.js"></script>
  <!-- End custom js for this page-->
  <!-- Bootstrap  -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
</body>

</html>