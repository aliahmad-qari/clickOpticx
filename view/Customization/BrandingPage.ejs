<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Customize Sliders</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="vendors/feather/feather.css">
  <link rel="stylesheet" href="vendors\ti-icons\css\themify-icons.css">
  <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="vendors\ti-icons\css\themify-icons.css">
  <link rel="stylesheet" type="text/css" href="js/select.dataTables.min.css">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="css/vertical-layout-light/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" href="images/favicon.png" />

  <!-- Material Design Icons CSS -->
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root {
      --primary: #6a11cb;
      --secondary: #2575fc;
      --accent: #ff4d4d;
      --light: #f8f9fa;
      --dark: #212529;
    }


    .editor-parent {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      grid-template-rows: repeat(5, 1fr);
      gap: 8px;
      width: 100%;
      background-color: #F3F3F9;
      padding: 20px;
    }

    .editor-div1 {
      grid-column: span 4 / span 4;
      grid-row: span 5 / span 5;
      background: white;
      padding: 15px;
      border-radius: 10px;
    }

    .editor-div2 {
      grid-column: span 1 / span 1;
      grid-row: span 5 / span 5;
      background: white;
      padding: 15px;
      border-radius: 10px;
    }

    .editor-heading {
      font-size: 1.5rem;
      margin-bottom: 20px;
      text-align: center;
    }

    .editor-form-group {
      margin-bottom: 12px;
    }

    .editor-label {
      display: flex;
      align-items: center;
      font-weight: 500;
      margin-bottom: 10px;
      color: var(--dark);
    }

    .editor-label i {
      margin-right: 10px;
      color: var(--secondary);
    }

    .editor-input-container {
      position: relative;
      display: flex;
      align-items: center;
    }

    .editor-select,
    .editor-button {
      width: 100%;
      padding: 12px 16px;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid var(--secondary);
      background-color: var(--light);
      font-family: 'Poppins', sans-serif;
    }

    .editor-select {
      padding-right: 50px;
      cursor: pointer;
    }

    .editor-select-icon {
      position: absolute;
      right: 16px;
      pointer-events: none;
      color: var(--secondary);
    }

    .editor-button {
      background: linear-gradient(to right, red, rgb(253, 61, 61));
      color: white;
      font-weight: bold;
      text-transform: uppercase;
      cursor: pointer;
      border: none;
      margin-top: 10px;
    }

    .editor-form {
      display: flex;
      flex-direction: column;
      margin-bottom: 19px;
    }

    .editor-file-input {
      margin-top: 10px;
      padding: 12px 16px;
      border-radius: 8px;
      font-family: 'Poppins', sans-serif;
      border: 1px solid var(--secondary);
      background-color: var(--light);
    }
  /* input Color  */
  .color-1 , .color-2 {
    height: 109px;
    width: 100%;
    border: 3px solid #4b49ac;
    border-radius: 15px;
  }

  .color-1:focus,
.color-2:focus {
  border: 4px solid #4b49ac;
  outline: none;
  box-shadow: 0 0 5px rgba(75, 73, 172, 0.5);
}

  .submit-btn{
    border: none;
    width: 140px;
    padding: 6px 1px;
    border-radius: 5px;
    background-color: #4b49ac;
    color: white;
    margin-left: 10px;
  }

  /* Full Responsive Enhancements */
@media (max-width: 1200px) {
  .editor-parent {
    display: flex;
    flex-direction: column;
    padding: 20px 15px;
  }

  .editor-div1,
  .editor-div2 {
    width: 100%;
    height: auto;
    margin-bottom: 20px;
  }
}

@media (max-width: 768px) {
  .editor-heading {
    font-size: 1.3rem;
    text-align: center;
  }

  .editor-form {
    width: 100%;
  }

  .editor-label {
    font-size: 1rem;
    flex-direction: row;
  }

  .editor-select,
  .editor-button,
  .editor-file-input,
  .submit-btn {
    width: 100%;
    font-size: 1rem;
    padding: 10px;
  }

  .color-1,
  .color-2 {
    height: 70px;
    border-radius: 20px;
  }

  .editor-upload-box {
    height: 180px !important;
  }
}

@media (max-width: 480px) {
  .editor-heading {
    font-size: 1.1rem;
  }

  .editor-label {
    font-size: 0.95rem;
  }

  .submit-btn {
    width: 100%;
    margin-left: 0;
  }

  .editor-parent {
    padding: 10px;
  }
}

@media (max-width: 360px) {
  .editor-heading {
    font-size: 1rem;
  }

  .editor-div1,
  .editor-div2 {
    padding: 15px;
  }

  .editor-button {
    font-size: 0.9rem;
    padding: 10px;
  }

  .submit-btn {
    font-size: 0.9rem;
    padding: 8px;
  }

  .color-1,
  .color-2 {
    height: 60px;
  }
}

/* Full Responsive Enhancements */
.slider-container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            border-radius: 10px;
        }
        
        .slider {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 300px;
        }
        
        .slide {
            min-width: 100%;
            height: 100%;
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: fill;
            
        }
        
        .slider-controls {
            position: absolute;
            top: 50%;
            width: 100%;
            display: flex;
            justify-content: space-between;
            transform: translateY(-50%);
        }
        
        .slider-dots {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .dot.active {
            background-color: white;
        }
/* Full Responsive Enhancements */

    /* Dark Mode Support */
    [data-theme="dark"] body {
      background-color: #111827 !important;
      color: #F9FAFB !important;
    }

    [data-theme="dark"] .card {
      background-color: #1F2937 !important;
      color: #F9FAFB !important;
    }

    [data-theme="dark"] .table {
      background-color: #1F2937 !important;
      color: #F9FAFB !important;
    }

    [data-theme="dark"] .table th {
      background-color: #374151 !important;
      color: #F9FAFB !important;
      border-color: #4B5563 !important;
    }

    [data-theme="dark"] .table td {
      background-color: #1F2937 !important;
      color: #F9FAFB !important;
      border-color: #4B5563 !important;
    }

    [data-theme="dark"] .form-control {
      background-color: #4B5563 !important;
      color: #F9FAFB !important;
      border-color: #6B7280 !important;
    }

    [data-theme="dark"] .form-control:focus {
      background-color: #4B5563 !important;
      color: #F9FAFB !important;
      border-color: #8B5CF6 !important;
    }

    [data-theme="dark"] .btn-primary {
      background-color: #3B82F6 !important;
      border-color: #3B82F6 !important;
    }

    [data-theme="dark"] .btn-success {
      background-color: #10B981 !important;
      border-color: #10B981 !important;
    }

    [data-theme="dark"] .btn-danger {
      background-color: #DC2626 !important;
      border-color: #DC2626 !important;
    }

    [data-theme="dark"] .alert-primary {
      background-color: #1E40AF !important;
      border-color: #3B82F6 !important;
      color: #DBEAFE !important;
    }

    [data-theme="dark"] .modal-content {
      background-color: #1F2937 !important;
      color: #F9FAFB !important;
    }

    [data-theme="dark"] .modal-header {
      border-bottom-color: #4B5563 !important;
    }

    [data-theme="dark"] .modal-footer {
      border-top-color: #4B5563 !important;
    }

  </style>

</head>

<body>
  <div class="container-scroller">

    <%- include ('../partials/_navbar.ejs') %>
      <!-- partial -->
      <div class="container-fluid page-body-wrapper" style="padding-left:0px;">
        <!-- partial:partials/_settings-panel.html -->
        <%- include ('../partials/SettingsDow.ejs') %>

                  <!-- NavBar Start -->
                  <%- include ('../partials/Sidebar.ejs') %>
                  <!-- NavBar End -->

                <!-- aaaaaaaaaaaaaaaaaaaaaaa -->
                <div class="editor-parent">

                  <div class="editor-div1">
                    <h1 class="editor-heading">Slider image Settings </h1>
                    <form action="/Slider_img" method="post" enctype="multipart/form-data" class="editor-form">
                      <div class="editor-form-group">
                        <label for="Slider_1" class="editor-label"><i class="fas fa-image"></i>Add slider images on user dashboard</label>
                        <div
                          id="slider-image-preview"
                          style=" display: flex;background-image: url(/images/Icon_imges.svg); object-fit: fill; background-position: center; background-size: cover; background-repeat: no-repeat; border-radius: 20px; align-items: center; justify-content: center; border: 2px dashed #ccc; width: 100%; height: 280px; position: relative; cursor: pointer;"
                        >
                          <input
                            type="file"
                            id="Slider_1"
                            name="Slider_1"
                            class="editor-file-input"
                            accept="image/*"
                            required
                            style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; opacity: 0; cursor: pointer; z-index: 2;"
                          >
                        </div>        
                      </div>
                      <button type="submit" class="submit-btn" style="background:#2b9062;"><i class="fas fa-image" ></i> Update Image</button>
                    </form>
                    
                    <!-- ssssssssssss -->
                    <div class="slider-container">
                      <div class="slider">
                          <% slider.forEach(function(slider, index) { %>
                              <div class="slide">
                                  <img src="/uploads/<%= slider.Slider_1 %>" alt="Slide <%= index + 1 %>">
                              </div>
                          <% }); %>
                      </div>
                      
                      <!-- Slider controls -->
                      <div class="slider-controls" style="display: none;">
                          <button class="prev-btn">&#10094;</button>
                          <button class="next-btn">&#10095;</button>
                      </div>
                      
                      <!-- Dynamically generate dots -->
                      <div class="slider-dots">
                          <% slider.forEach(function(slider, index) { %>
                              <div class="dot <%= index === 0 ? 'active' : '' %>"></div>
                          <% }); %>
                      </div>
                  </div>
                    <!-- ssssssssssss -->

                  </div>

             <div class="editor-div2">
                    <h1 class="editor-heading">All Images</h1>
                     <form action="/Slider_img/:id" method="post" class="editor-form" enctype="multipart/form-data">
                        <% slider.forEach(function(slider) { %>
                            <div style="display: flex;align-items: center;justify-content: center;gap: 20px; border: 2px solid #ccc; border-radius: 20px; padding: 10px;margin-top: 5px;">
                            <div >
                              <img style="width:80px; height:50px" src="/uploads/<%= slider.Slider_1 %>" alt="Slider 1 Image">
                            </div>
                            <button type="button" style="border: none ; background-color: transparent;" onclick="deleteSlider('<%= slider.id %>')">
                                <i class="ti-trash" style="font-size: 20px; color: red;"></i>
                              </button>  
                            </div>                            
                            <% }); %>
                    </form>
                        </div>
                        </div> 
                        </div>
                <!-- aaaaaaaaaaaaaaaaaaaaaaa -->
                  </div>
                    <!-- plugins:js -->

                    <script>

                          // JavaScript for Slider Image Preview
                          document.getElementById('Slider_1').addEventListener('change', function (event) {
                            const file = event.target.files[0];
                            const previewDiv = document.getElementById('slider-image-preview');
                            const previewText = document.getElementById('slider-preview-text');
                            if (file) {
                              const reader = new FileReader();
                              reader.onload = function (e) {
                                previewDiv.style.backgroundImage = `url(${e.target.result})`;
                                previewText.style.display = 'none';
                              };
                              reader.readAsDataURL(file);
                            } else {
                              previewDiv.style.backgroundImage = `url('/images/icon_imges.svg')`;
                              previewText.style.display = 'block'; 
                            }
                          });
                        function deleteSlider(id) {
                          if (confirm("Are you sure you want to delete this slider image?")) {
                            fetch(`/Slider_img/${id}`, {
                              method: 'DELETE'
                            })
                            .then(response => {
                              if (response.ok) {
                                alert("Slider deleted successfully");
                                location.reload(); // Refresh to reflect deletion
                              } else {
                                response.text().then(text => alert("Error: " + text));
                              }
                            })
                            .catch(error => {
                              console.error('Error:', error);
                              alert("Something went wrong.");
                            });
                          }
                        }
                      </script>
                      <!-- ssssssssssssssss -->
                      <script>
                        const slider = document.querySelector('.slider');
                        const slides = document.querySelectorAll('.slide');
                        const prevBtn = document.querySelector('.prev-btn');
                        const nextBtn = document.querySelector('.next-btn');
                        const dots = document.querySelectorAll('.dot');
                        
                        let currentSlide = 0;
                        const slideCount = slides.length;
                        
                        function goToSlide(slideIndex) {
                            slider.style.transform = `translateX(-${slideIndex * 100}%)`;
                            currentSlide = slideIndex;
                            
                            // Update dots
                            dots.forEach((dot, index) => {
                                dot.classList.toggle('active', index === currentSlide);
                            });
                        }
                        
                        function nextSlide() {
                            currentSlide = (currentSlide + 1) % slideCount;
                            goToSlide(currentSlide);
                        }
                        
                        function prevSlide() {
                            currentSlide = (currentSlide - 1 + slideCount) % slideCount;
                            goToSlide(currentSlide);
                        }
                        
                        // Button click events
                        nextBtn.addEventListener('click', nextSlide);
                        prevBtn.addEventListener('click', prevSlide);
                        
                        // Dot click events
                        dots.forEach((dot, index) => {
                            dot.addEventListener('click', () => {
                                goToSlide(index);
                            });
                        });
                        
                        // Auto slide change (optional)
                        setInterval(nextSlide, 5000);
                    </script>
                      <!-- ssssssssssssssss -->
                      
                    <script src="vendors\js\vendor.bundle.base.js"></script>
                    <!-- endinject -->
                    <!-- Plugin js for this page -->
                    <script src="vendors\chart.js/Chart.min.js"></script>
                    <script src="vendors/datatables.net/jquery.dataTables.js"></script>
                    <script src="vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
                    <script src="js/dataTables.select.min.js"></script>

                    <!-- End plugin js for this page -->
                    <!-- inject:js -->
                    <script src="js/off-canvas.js"></script>
                    <script src="js/hoverable-collapse.js"></script>
                    <script src="js/template.js"></script>
                    <script src="js/settings.js"></script>
                    <!-- endinject -->
                    <!-- Custom js for this page-->
                    <script src="js/dashboard.js"></script>
                    <script src="js/Chart.roundedBarCharts.js"></script>
                    <!-- End custom js for this page-->
                    <!-- Bootstrap  -->
                    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
          </body>

          </html>