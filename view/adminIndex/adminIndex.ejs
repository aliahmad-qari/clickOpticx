<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Admin Dashboard</title>
  <!-- plugins:css -->
  <link rel="stylesheet" href="/vendors/feather/feather.css">
  <link rel="stylesheet" href="/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="/vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <link rel="stylesheet" href="/vendors/datatables.net-bs4/dataTables.bootstrap4.css">
  <link rel="stylesheet" href="/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" type="text/css" href="/js/select.dataTables.min.css">
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="/css/vertical-layout-light/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" href="/images/favicon.png" />

  <!-- Material Design Icons CSS -->
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.2.96/css/materialdesignicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">


  <style>
    :root {
      --primary: #6c5ce7;
      --primary-light: #a29bfe;
      --secondary: #00cec9;
      --success: #198754;
      --success-light: #198754;
      --warning: #fdcb6e;
      --danger: #d63031;
      --dark: #2d3436;
      --light: #f5f6fa;
      --gray: #dfe6e9;
      --card-bg: rgba(255, 255, 255, 0.9);
      --glass-effect: rgba(255, 255, 255, 0.15);
      
      /* Dark theme variables for admin panel */
      --primary-color: #4F46E5;
      --primary-dark: #3730A3;
      --bg-primary: #FFFFFF;
      --bg-secondary: #F8FAFC;
      --bg-tertiary: #F1F5F9;
      --text-primary: #1E293B;
      --text-secondary: #475569;
      --text-tertiary: #64748B;
      --border-primary: #E2E8F0;
      --border-secondary: #CBD5E1;
      --sidebar-bg: #FFFFFF;
    }

    /* Dark Theme Colors for Admin */
    [data-theme="dark"] {
      --bg-primary: #0F172A;
      --bg-secondary: #1E293B;
      --bg-tertiary: #334155;
      --text-primary: #F8FAFC;
      --text-secondary: #CBD5E1;
      --text-tertiary: #94A3B8;
      --border-primary: #334155;
      --border-secondary: #475569;
      --sidebar-bg: #1E293B;
    }

    /* LIGHT MODE - Admin Panel Sidebar Dropdown Fix */
    .sidebar .nav-link,
    .sidebar .nav-link .menu-title,
    .sidebar  {
      color: #1E293B !important; /* Dark text for light mode */
    }

    .sidebar .nav.sub-menu .nav-link,
    .sidebar .sub-menu .nav-link {
      color: #475569 !important; /* Darker gray for light mode dropdowns */
      background: transparent !important;
    }

    .sidebar .nav.sub-menu .nav-link:hover,
    .sidebar .sub-menu .nav-link:hover {
      color: #4F46E5 !important; /* Blue on hover */
      background: #F1F5F9 !important; /* Light gray background */
    }

    /* Light mode dropdown menu text colors */
    .sidebar .collapse .nav-link,
    .sidebar .collapsing .nav-link,
    .sidebar .collapse a,
    .sidebar .collapsing a,
    .sidebar .show .nav-link,
    .sidebar .show a {
      color: #475569 !important; /* Dark gray for readability */
      background: transparent !important;
    }

    .sidebar .collapse .nav-link:hover,
    .sidebar .collapsing .nav-link:hover,
    .sidebar .collapse a:hover,
    .sidebar .collapsing a:hover,
    .sidebar .show .nav-link:hover,
    .sidebar .show a:hover {
      color: #4F46E5 !important; /* Blue on hover */
      background: rgba(79, 70, 229, 0.08) !important; /* Light blue background */
    }

    /* Light mode icons in dropdowns */
    .sidebar .collapse i,
    .sidebar .collapsing i,
    .sidebar .show i {
      color: #475569 !important;
    }

    .sidebar .collapse .nav-link:hover i,
    .sidebar .collapsing .nav-link:hover i,
    .sidebar .show .nav-link:hover i {
      color: #4F46E5 !important;
    }


    /* Apply theme to body and main elements */
    [data-theme="dark"] body {
      background-color: var(--bg-secondary) !important;
      color: var(--text-primary) !important;
    }

    /* ===== SIDEBAR THEME STYLING - SAME AS USER DASHBOARD ===== */
    
    /* Dark sidebar theme styles - HIGH PRIORITY */
    .sidebar-dark .sidebar {
      background: #232227 !important;
    }

    .sidebar-dark .sidebar .nav .nav-item .nav-link {
      color: #FFFFFF !important;
    }

    

    .sidebar-dark .sidebar .nav .nav-item .nav-link i.menu-icon {
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav .nav-item .nav-link .menu-title {
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav .nav-item .nav-link[aria-expanded="true"] .menu-title {
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav .nav-item.active>.nav-link {
      background: #4B49AC !important;
    }

    .sidebar-dark .sidebar .nav .nav-item.active>.nav-link .menu-title,
    .sidebar-dark .sidebar .nav .nav-item.active>.nav-link i {
      color: #ffffff !important;
    }

    .sidebar-dark .sidebar .nav:not(.sub-menu)>.nav-item:hover>.nav-link {
      background: #4B49AC !important;
      color: #fff !important;
    }

    .sidebar-dark .sidebar .nav:not(.sub-menu)>.nav-item .nav-link[aria-expanded="true"] {
      background: #1a1f26 !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu {
      background: #1a1f26 !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link {
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link:before {
      color: white !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link.active {
      color: #ffffff !important;
      background: transparent !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link:hover {
      color: #9a94a7 !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item:hover {
      background: transparent !important;
    }

    .sidebar-dark .navbar {
      box-shadow: none !important;
    }

    .sidebar-dark .navbar .navbar-brand-wrapper {
      background: #232227 !important;
    }

    /* Ensure dropdown arrows and all nested elements are white in dark sidebar */
    .sidebar-dark .sidebar .nav .nav-item .nav-link::after,
    .sidebar-dark .sidebar .nav .nav-item .nav-link .menu-arrow::before,
    .sidebar-dark .sidebar .nav .nav-item .nav-link .menu-arrow {
      color: #FFFFFF !important;
      border-color: #FFFFFF !important;
    }

    /* Fix any potential text inheritance issues */
    

    /* Make sure expanded dropdowns have proper styling */
    .sidebar-dark .sidebar .nav .nav-item .nav-link[aria-expanded="true"],
    .sidebar-dark .sidebar .nav .nav-item .nav-link[aria-expanded="true"] .menu-title,
    .sidebar-dark .sidebar .nav .nav-item .nav-link[aria-expanded="true"] i {
      color: #FFFFFF !important;
    }

    /* ===== FIX DROPDOWN COLORS TO MATCH MAIN SIDEBAR EXACTLY ===== */
    
    /* LIGHT SIDEBAR - Default dropdown styling */
    .sidebar .nav.sub-menu .nav-item .nav-link {
      color: #6c757d !important; /* Same as main sidebar items */
    }

    .sidebar .nav.sub-menu .nav-item .nav-link:hover {
      color: #4B49AC !important; /* Same purple as main items */
      background: rgba(75, 73, 172, 0.1) !important;
    }

    .sidebar .nav.sub-menu .nav-item .nav-link.active {
      color: #4B49AC !important; /* Same purple as main active */
      background: rgba(75, 73, 172, 0.1) !important;
    }

    /* DARK SIDEBAR - Dropdown styling to match main items exactly */
    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link {
      color: #FFFFFF !important; /* Same white as main sidebar items */
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link:hover {
      color: #FFFFFF !important; /* Keep white, not gray */
      background: #4B49AC !important; /* Same purple as main items */
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item .nav-link.active {
      color: #FFFFFF !important; /* White text */
      background: #4B49AC !important; /* Same purple as main active */
    }

    /* Fix dropdown container backgrounds */
    .sidebar-dark .sidebar .nav.sub-menu {
      background: #1a1f26 !important; /* Darker background for dropdown container */
    }

    .sidebar .nav.sub-menu {
      background: #f8f9fa !important; /* Light background for dropdown container */
    }

    /* ===== FIX ACTIVE/SELECTED STATES FOR BOTH MODES ===== */
    
    /* LIGHT MODE - Active states */
    .sidebar .nav .nav-item.active > .nav-link,
    .sidebar .nav .nav-item > .nav-link.active {
      background: #4B49AC !important;
      color: #FFFFFF !important;
    }

    .sidebar .nav .nav-item.active > .nav-link .menu-title,
    .sidebar .nav .nav-item.active > .nav-link i,
    .sidebar .nav .nav-item > .nav-link.active .menu-title,
    .sidebar .nav .nav-item > .nav-link.active i {
      color: #FFFFFF !important;
    }

    /* DARK MODE - Active states (already defined above but ensuring consistency) */
    .sidebar-dark .sidebar .nav .nav-item.active > .nav-link,
    .sidebar-dark .sidebar .nav .nav-item > .nav-link.active {
      background: #4B49AC !important;
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav .nav-item.active > .nav-link .menu-title,
    .sidebar-dark .sidebar .nav .nav-item.active > .nav-link i,
    .sidebar-dark .sidebar .nav .nav-item > .nav-link.active .menu-title,
    .sidebar-dark .sidebar .nav .nav-item > .nav-link.active i {
      color: #FFFFFF !important;
    }

    /* Dropdown active states in both modes - SPECIFIC TARGETING */
    .sidebar .nav.sub-menu .nav-item.active > .nav-link,
    .sidebar .nav.sub-menu .nav-item > .nav-link.active {
      background: #4B49AC !important;
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav.sub-menu .nav-item.active > .nav-link,
    .sidebar-dark .sidebar .nav.sub-menu .nav-item > .nav-link.active {
      background: #4B49AC !important;
      color: #FFFFFF !important;
    }

    /* ===== PREVENT SIDEBAR-WIDE CHANGES WHEN DROPDOWN IS ACTIVE ===== */
    
    /* Ensure main sidebar items keep their normal styling when dropdown is active */
    .sidebar .nav:not(.sub-menu) .nav-item .nav-link {
      color: #6c757d !important; /* Normal gray color */
    }

    .sidebar .nav:not(.sub-menu) .nav-item .nav-link:hover {
      color: #4B49AC !important;
      background: rgba(75, 73, 172, 0.1) !important;
    }

    /* Ensure main sidebar items in dark mode keep their styling */
    .sidebar-dark .sidebar .nav:not(.sub-menu) .nav-item .nav-link {
      color: #FFFFFF !important; /* Normal white color */
    }

    .sidebar-dark .sidebar .nav:not(.sub-menu) .nav-item .nav-link:hover {
      color: #FFFFFF !important;
      background: #4B49AC !important;
    }

    /* Only allow active styling on specifically active main items, not when sub-item is active */
    .sidebar .nav:not(.sub-menu) .nav-item.active:not(.has-active-child) > .nav-link,
    .sidebar .nav:not(.sub-menu) .nav-item > .nav-link.active:not(.has-active-child) {
      background: #4B49AC !important;
      color: #FFFFFF !important;
    }

    .sidebar-dark .sidebar .nav:not(.sub-menu) .nav-item.active:not(.has-active-child) > .nav-link,
    .sidebar-dark .sidebar .nav:not(.sub-menu) .nav-item > .nav-link.active:not(.has-active-child) {
      background: #4B49AC !important;
      color: #FFFFFF !important;
    }

    /* When a parent has active child, keep parent normal but maybe slightly highlighted */
    .sidebar .nav:not(.sub-menu) .nav-item.has-active-child > .nav-link {
      color: #4B49AC !important;
      background: rgba(75, 73, 172, 0.05) !important;
    }

    .sidebar-dark .sidebar .nav:not(.sub-menu) .nav-item.has-active-child > .nav-link {
      color: #FFFFFF !important;
      background: rgba(75, 73, 172, 0.2) !important;
    }

    /* ===== FORCE OVERRIDE ANY GLOBAL ACTIVE STATES ===== */
    
    /* Reset any body or global classes that might affect sidebar */
    body.sidebar-dark .sidebar .nav .nav-item .nav-link,
    .sidebar-dark .sidebar .nav .nav-item .nav-link {
      color: #FFFFFF !important;
      background: transparent !important;
    }

    body.sidebar-light .sidebar .nav .nav-item .nav-link,
    body .sidebar .nav .nav-item .nav-link {
      color: #6c757d !important;
      background: transparent !important;
    }

    /* Only dropdowns should have different backgrounds */
    body.sidebar-dark .sidebar .nav.sub-menu,
    .sidebar-dark .sidebar .nav.sub-menu {
      background: #1a1f26 !important;
    }

    body.sidebar-light .sidebar .nav.sub-menu,
    body .sidebar .nav.sub-menu {
      background: #f8f9fa !important;
    }

    /* Force normal state for all non-active items */
    .sidebar .nav .nav-item:not(.active) .nav-link,
    .sidebar .nav .nav-item .nav-link:not(.active) {
      background: transparent !important;
    }

    .sidebar-dark .sidebar .nav .nav-item:not(.active) .nav-link,
    .sidebar-dark .sidebar .nav .nav-item .nav-link:not(.active) {
      background: transparent !important;
      color: #FFFFFF !important;
    }

    /* Specific override for expanded dropdown parents - they should not get active styling */
    .sidebar .nav .nav-item[aria-expanded="true"] .nav-link:not(.active) {
      background: transparent !important;
      color: #6c757d !important;
    }

    .sidebar-dark .sidebar .nav .nav-item[aria-expanded="true"] .nav-link:not(.active) {
      background: transparent !important;
      color: #FFFFFF !important;
    }

    /* ===== SPECIFIC FIX FOR USER EQUIPMENT AND ALL DROPDOWNS ===== */
    
    /* Force normal styling for all dropdown parent items when expanded */
    .sidebar .nav .nav-item .nav-link[aria-expanded="true"] {
      background: transparent !important;
      color: #6c757d !important;
    }

    
    .sidebar .nav .nav-item .nav-link[aria-expanded="true"] .menu-title {
      color: #6c757d !important;
    }

    .sidebar-dark .sidebar .nav .nav-item .nav-link[aria-expanded="true"] {
      background: transparent !important;
      color: #FFFFFF !important;
    }

    
    .sidebar-dark .sidebar .nav .nav-item .nav-link[aria-expanded="true"] .menu-title {
      color: #FFFFFF !important;
    }

    /* Ensure no active/selected styling is applied to parent when child is active */
    .sidebar .nav .nav-item:has(.nav.sub-menu .nav-item.active) .nav-link,
    .sidebar .nav .nav-item:has(.nav.sub-menu .nav-link.active) .nav-link {
      background: transparent !important;
      color: #6c757d !important;
    }

    .sidebar-dark .sidebar .nav .nav-item:has(.nav.sub-menu .nav-item.active) .nav-link,
    .sidebar-dark .sidebar .nav .nav-item:has(.nav.sub-menu .nav-link.active) .nav-link {
      background: transparent !important;
      color: #FFFFFF !important;
    }

    /* Force reset any inherited active states */
    .sidebar .nav .nav-item .nav-link,
    .sidebar .nav .nav-item .nav-link * {
      background: inherit !important;
    }

    .sidebar-dark .sidebar .nav .nav-item .nav-link,
    .sidebar-dark .sidebar .nav .nav-item .nav-link * {
      background: inherit !important;
    }

    /* ===== SPECIFIC FIX FOR ALL STOCK AND OTHER DROPDOWN ITEMS ===== */
    
    /* Target all dropdown items including All Stock specifically */
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/ViewAllEquipments"],
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/AddNewEquipment"],
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/userEquipment"],
    .sidebar .nav .sub-menu .nav-item .nav-link {
      color: #6c757d !important;
      background: transparent !important;
    }

    .sidebar .nav .sub-menu .nav-item .nav-link[href="/ViewAllEquipments"]:hover,
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/AddNewEquipment"]:hover,
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/userEquipment"]:hover,
    .sidebar .nav .sub-menu .nav-item .nav-link:hover {
      color: #4B49AC !important;
      background: rgba(75, 73, 172, 0.1) !important;
    }

    /* Dark mode - Target all dropdown items including All Stock */
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/ViewAllEquipments"],
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/AddNewEquipment"],
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/userEquipment"],
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link {
      color: #FFFFFF !important;
      background: transparent !important;
    }

    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/ViewAllEquipments"]:hover,
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/AddNewEquipment"]:hover,
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/userEquipment"]:hover,
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link:hover {
      color: #FFFFFF !important;
      background: #4B49AC !important;
    }

    /* Force active state only for the specific active item, not affecting rest of sidebar */
    .sidebar .nav .sub-menu .nav-item .nav-link.active[href="/ViewAllEquipments"],
    .sidebar .nav .sub-menu .nav-item .nav-link.active[href="/AddNewEquipment"], 
    .sidebar .nav .sub-menu .nav-item .nav-link.active[href="/userEquipment"],
    .sidebar .nav .sub-menu .nav-item .nav-link.active {
      color: #FFFFFF !important;
      background: #4B49AC !important;
    }

    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link.active[href="/ViewAllEquipments"],
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link.active[href="/AddNewEquipment"],
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link.active[href="/userEquipment"],
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link.active {
      color: #FFFFFF !important;
      background: #4B49AC !important;
    }

    /* Ensure icons in dropdown items also follow the same color rules */
    
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/ViewAllEquipments"] i,
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/AddNewEquipment"] i,
    .sidebar .nav .sub-menu .nav-item .nav-link[href="/userEquipment"] i {
      color: inherit !important;
    }

    
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/ViewAllEquipments"] i,
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/AddNewEquipment"] i,
    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link[href="/userEquipment"] i {
      color: inherit !important;
    }

    /* ===== FIX WHITE DROPDOWN BACKGROUND ISSUE ===== */
    
    /* Force dropdown container backgrounds to be correct */
    .sidebar .nav .sub-menu,
    .sidebar .collapse.show,
    .sidebar .collapse.show .nav,
    .sidebar .collapse.show ul,
    .sidebar #equipmentMenu,
    .sidebar #equipmentMenu.show,
    .sidebar #equipmentMenu .nav,
    .sidebar #equipmentMenu ul {
      background: #f8f9fa !important;
    }

    .sidebar-dark .sidebar .nav .sub-menu,
    .sidebar-dark .sidebar .collapse.show,
    .sidebar-dark .sidebar .collapse.show .nav,
    .sidebar-dark .sidebar .collapse.show ul,
    .sidebar-dark .sidebar #equipmentMenu,
    .sidebar-dark .sidebar #equipmentMenu.show,
    .sidebar-dark .sidebar #equipmentMenu .nav,
    .sidebar-dark .sidebar #equipmentMenu ul {
      background: #1a1f26 !important;
    }

    /* Prevent any white backgrounds from appearing */
    .sidebar .nav .sub-menu *,
    .sidebar .collapse.show *,
    .sidebar #equipmentMenu * {
      background-color: transparent !important;
    }

    .sidebar-dark .sidebar .nav .sub-menu *,
    .sidebar-dark .sidebar .collapse.show *,
    .sidebar-dark .sidebar #equipmentMenu * {
      background-color: transparent !important;
    }

    /* Exception: only active items can have colored backgrounds */
    .sidebar .nav .sub-menu .nav-item .nav-link.active {
      background: #4B49AC !important;
    }

    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link.active {
      background: #4B49AC !important;
    }

    .sidebar .nav .sub-menu .nav-item .nav-link:hover {
      background: rgba(75, 73, 172, 0.1) !important;
    }

    .sidebar-dark .sidebar .nav .sub-menu .nav-item .nav-link:hover {
      background: #4B49AC !important;
    }

    /* ===== SIMPLE DIRECT FIX - FORCE DARK MODE DROPDOWN BACKGROUND ===== */
    
    .sidebar-dark .sidebar .nav.sub-menu {
      background: #1a1f26 !important;
    }

    .sidebar-dark .sidebar #equipmentMenu {
      background: #1a1f26 !important;
    }

    .sidebar-dark .sidebar #equipmentMenu ul {
      background: #1a1f26 !important;
    }

    body {
      background-color: #F3F3F9;
      overflow-x: hidden;
    }

    /* ===== RESPONSIVE CONTAINER FIXES ===== */
    .container-fluid {
      padding-left: 15px !important;
      padding-right: 15px !important;
    }

    /* ===== RESPONSIVE CARD LAYOUT ===== */
    .card-responsive-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
      margin: 0;
      padding: 0;
    }

    .card-responsive-item {
      min-width: 0; /* Prevent grid blowout */
    }

    /* ===== ENHANCED CARD RESPONSIVENESS ===== */
    .card-statistic-3 {
      min-height: 120px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .card-icon-large {
      font-size: 2rem !important;
    }

    .card-title {
      font-size: 1rem !important;
      line-height: 1.2 !important;
      word-wrap: break-word;
    }

    /* ===== MOBILE OPTIMIZATIONS ===== */
    @media (max-width: 576px) {
      .container-fluid {
        padding-left: 10px !important;
        padding-right: 10px !important;
      }
      
      .card-responsive-grid {
        grid-template-columns: 1fr;
        gap: 0.75rem;
      }
      
      .card-statistic-3 {
        padding: 1rem !important;
        min-height: 100px;
      }
      
      .card-icon-large {
        font-size: 1.5rem !important;
      }
      
      .card-title {
        font-size: 0.9rem !important;
      }
      
      h2 {
        font-size: 1.5rem !important;
      }
      
      /* Hide unnecessary text on mobile */
      .mobile-hide {
        display: none !important;
      }
      
      /* Compact spacing */
      .mb-4 {
        margin-bottom: 0.5rem !important;
      }
      
      .mt-4 {
        margin-top: 1rem !important;
      }
    }

    /* ===== TABLET OPTIMIZATIONS ===== */
    @media (min-width: 577px) and (max-width: 768px) {
      .card-responsive-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
      
      .card-statistic-3 {
        padding: 1.25rem !important;
      }
      
      .card-title {
        font-size: 0.95rem !important;
      }
    }

    /* ===== DESKTOP OPTIMIZATIONS ===== */
    @media (min-width: 769px) {
      .card-responsive-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: 1.25rem;
      }
    }

    /* ===== MOBILE CARD LAYOUT ===== */
    @media (max-width: 768px) {
      .desktop-table {
        display: none !important;
      }
      
      .mobile-cards {
        display: block !important;
      }
    }
    
    @media (min-width: 769px) {
      .desktop-table {
        display: block !important;
      }
      
      .mobile-cards {
        display: none !important;
      }
    }
    
    .mobile-cards {
      display: none;
    }
    
    .user-card {
      background: white;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border: 1px solid #e0e0e0;
    }
    
    .user-card-header {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .user-card-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 12px;
    }
    
    .user-card-name {
      flex: 1;
    }
    
    .user-card-name h6 {
      margin: 0;
      font-weight: 600;
      font-size: 1rem;
      color: #333;
    }
    
    .user-card-name p {
      margin: 0;
      font-size: 0.85rem;
      color: #666;
    }
    
    .user-card-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 15px;
    }
    
    .user-card-field {
      display: flex;
      flex-direction: column;
    }
    
    .user-card-label {
      font-size: 0.75rem;
      color: #888;
      margin-bottom: 2px;
      text-transform: uppercase;
      font-weight: 500;
    }
    
    .user-card-value {
      font-size: 0.9rem;
      color: #333;
      font-weight: 500;
    }
    
    .mobile-badge {
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .mobile-badge.role {
      background-color: #e3f2fd;
      color: #1976d2;
    }
    
    .mobile-badge.package {
      background-color: #e8f5e8;
      color: #198754;
    }
    
    .mobile-badge.expired {
      background-color: #fee;
      color: #dc3545;
    }
    
    .mobile-badge.active {
      background-color: rgba(52, 168, 83, 0.1);
      color: #34a853;
    }

    /* ===== CHART CONTAINER RESPONSIVENESS ===== */
    .chart-container {
      position: relative;
      width: 100%;
      overflow: hidden;
    }

    .custom-card, .custom-card1 {
      height: auto !important;
      min-height: 300px;
    }

    @media (max-width: 768px) {
      .custom-card, .custom-card1 {
        height: auto !important;
        min-height: 250px;
        padding: 15px !important;
      }
      
      .chart-container {
        height: 200px !important;
      }
      
      canvas {
        max-width: 100% !important;
        height: auto !important;
      }
      
      /* Chart responsive stacking */
      .col-md-3, .col-md-9 {
        flex: 0 0 100% !important;
        max-width: 100% !important;
      }
    }

    /* ===== GLOBAL RESPONSIVE UTILITIES ===== */
    .main-panel {
      padding: 10px;
      width: 100%;
    }

    @media (max-width: 991px) {
      .main-panel {
        margin-left: 0 !important;
        padding: 5px;
      }
    }

    @media (max-width: 576px) {
      .main-panel {
        padding: 2px;
      }
      
      .content-wrapper {
        padding: 10px 5px;
      }
    }

    /* ===== RESPONSIVE TEXT AND SPACING ===== */
    @media (max-width: 576px) {
      h1, h2, h3, h4, h5, h6 {
        font-size: 1rem !important;
        line-height: 1.2;
        margin-bottom: 0.5rem;
      }
      
      .text-purple, .text-white, .text-info {
        font-size: 0.9rem !important;
      }
      
      /* Compact list items */
      ul li {
        font-size: 0.85rem;
        line-height: 1.3;
      }
    }

    canvas {
      width: 100% !important;
      height: 100% !important;
      filter: drop-shadow(0 0 1px #00aaff)
    }

    /* Card Left Right Style Start*/
    .card-container {
      position: relative;
      width: 100%;
      height: 250px;
      cursor: grab;
      perspective: 1000px;
    }

    .deal-card {
      position: absolute;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #72c6ef, #5442f5);
      color: white;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.5s ease;
      transform-origin: center;
      will-change: transform, opacity, z-index;
    }

    .deal-card:nth-child(1) {
      z-index: 6;
      transform: rotate(-5deg) scale(1);
    }

    .deal-card:nth-child(2) {
      z-index: 5;
      transform: rotate(-3deg) scale(0.95);
      top: 15px;
      background: #091123;
    }

    .deal-card:nth-child(3) {
      z-index: 4;
      transform: rotate(0deg) scale(0.9);
      top: 25px;
      background: #222;
    }

    .deal-card:nth-child(4) {
      z-index: 3;
      transform: rotate(2deg) scale(0.85);
      top: 35px;
      background: #333;
    }

    .deal-card:nth-child(5) {
      z-index: 2;
      transform: rotate(4deg) scale(0.8);
      top: 45px;
      background: #444;
    }

    .deal-card:nth-child(6) {
      z-index: 1;
      transform: rotate(6deg) scale(0.75);
      top: 55px;
      background: #555;
    }

    .deal-card h5 {
      font-weight: bold;
      font-size: 1.2rem;
    }

    .price-old {
      text-decoration: line-through;
      opacity: 0.7;
    }

    .price-new {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .buy-btn {
      background-color: #ffc107;
      color: black;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      font-weight: bold;
    }

    .product-img {
      position: absolute;
      right: 10px;
      bottom: 10px;
      width: 120px;
      border-radius: 10px;
    }

    .swiped {
      transition: transform 0.5s ease, opacity 0.5s ease;
    }

    /* Card Left Right Style End*/

    /* Package Card Start */

    .carousel {
      position: relative;
      z-index: 1;
    }

    @media (max-width: 768px) {
      .slider-imgss {
        max-width: 90%;
        height: auto;
      }

      .carousel {
        margin-top: 20px;
      }
    }

    section {
      width: 100%;
      box-sizing: border-box;
    }

    .row {
      justify-content: center;
    }

    .pricing-card a:hover {
      text-decoration: none;
    }

    /* There */
    .cards-main {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      width: 100%;
    }

    .custom-cardd {
      background: #222;
      color: white;
      border-radius: 20px;
      overflow: hidden;
      font-family: Arial, sans-serif;
      position: relative;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      flex: 0 0 30%;
      max-width: 300px;
      min-width: 260px;
      width: 100%;

    }

    .card-top {
      padding: 15px 10px 60px;
      text-align: center;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 54% 100%, 0 45%);
      position: relative;
      z-index: 1;
    }

    .basic .card-top {
      background: linear-gradient(135deg, #00f5c9, #00b8ff);
    }

    .standard .card-top {
      background: linear-gradient(135deg, #ff00aa, #9f00ff);
    }

    .premium .card-top {
      background: linear-gradient(135deg, #ffc400, #ff6a00);
    }
    

    .stars {
      color: #eee;
      font-size: 16px;
      letter-spacing: 4px;
    }

    .price-circle {
      background: #111;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: absolute;
      top: 80px;
      left: 50%;
      transform: translateX(-50%);
      font-weight: bold;
      font-size: 12px;
      z-index: 2;
    }

    .basic .price-circle {
      border: 4px solid #00f5c9;
    }

    .standard .price-circle {
      border: 4px solid #ff00aa;
    }

    .premium .price-circle {
      border: 4px solid #ffc400;
    }

    .features {
      padding: 100px 20px 10px;
      text-align: left;
    }

    .features p {
      margin: 10px 0;
      display: flex;
      align-items: center;
      font-size: 14px;
    }

    .features span {
      font-size: 18px;
      margin-right: 10px;
    }

    .basic .features span {
      color: #00ff00;
    }

    .standard .features span {
      color: #ff0066;
    }

    .premium .features span {
      color: #ffc400;
    }

    .card-button {
      text-align: center;
      padding: 15px;
    }

    .card-button button {
      background: linear-gradient(to right, #00f5c9, #00b8ff);
      border: none;
      border-radius: 50px;
      padding: 10px 25px;
      color: black;
      font-weight: bold;
      cursor: pointer;
    }

    .standard .card-button button {
      background: linear-gradient(to right, #ff00aa, #9f00ff);
    }

    .premium .card-button button {
      background: linear-gradient(to right, #ffc400, #ff6a00);
    }

    /* MEDIA QUERIES */
    @media (max-width: 992px) {
      .custom-card {
        flex: 0 0 45%;
      }
    }

    @media (max-width: 768px) {
      .custom-card {
        flex: 0 0 80%;
      }
    }

    @media (max-width: 480px) {
      .custom-card {
        flex: 0 0 95%;
        max-width: 95%;
        min-width: 260px;
      }

      .price-circle {
        width: 90px;
        height: 90px;
        font-size: 10px;
      }

      .card-top h2 {
        font-size: 18px;
      }

      .features p {
        font-size: 13px;
      }

      .card-button button {
        font-size: 14px;
        padding: 8px 20px;
      }
    }

    /* There End*/

    /* Package Card End */
    .slider-imgss,
    .slider-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
    }

    /* profile */
    .slider-imgss,
    .slider-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 10px;
    }

    /* profile */
    #cont1 {
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center;
      object-fit: cover;
      height: 320px;
      width: 100%;
      padding-top: 1rem;
      padding-bottom: 1rem;
      border-bottom-right-radius: 25px;
      border-bottom-left-radius: 25px;
    }

    .header-section {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: center;

    }

    .header-section h2 {
      color: white;
    }

    .head-icons a i {
      color: white;
    }

    .head-icons {
      display: flex;
      flex-direction: row;
      gap: 2rem;
    }

    /* top section */
    .content-section {
      color: white;
      margin-top: 30px;
      display: flex;
      gap: 1vw;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      /* Ensures it adapts on smaller screens */
      padding: 1rem;
    }

    /* Flexible spacing */
    .test,
    .user-content .loyal {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* Typography adjustment */
    .loyal p {
      margin-bottom: -0.16rem;
      font-size: clamp(12px, 1vw, 16px);
    }

    /* Media Queries for better responsiveness */
    @media (max-width: 1024px) {
      .content-section {
        flex-direction: row;
        gap: 1rem;
        align-items: center;
      }
    }

    @media (max-width: 768px) {

      .test,
      .user-content .loyal {
        flex-direction: row;
        text-align: center;
      }

      .content-section {
        margin-top: 20px;
        padding: 0.8rem;
      }
    }

    @media (max-width: 480px) {
      .content-section {
        margin-top: 15px;
        padding: 0.1rem;
      }

      .loyal p {
        font-size: 14px;
      }
    }

    /* top section */
    .login-btn {
      background-color: transparent;
      border: 0;
      color: orange;
      font-size: 26px;
      outline: 0;
      margin-top: 20px;
    }

    .login-btn:hover {
      color: white !important;
    }

    /* sssssssssss */
    .icon-slider {
      display: block;
      overflow: hidden;
      border: 1px solid #ddd;
      position: relative;
      padding: 10px 0px;
    }

    .icon-track {
      display: flex;
      width: max-content;
      animation: scrollIcons 20s linear infinite;
      gap: 40px;
      font-size: 2.5rem;
      padding-left: 100%;
    }

    .icon-slider:hover .icon-track {
      animation-play-state: paused;
    }

    @keyframes scrollIcons {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-100%);
      }
    }

    /* form css */
    .modal {
      z-index: 1055;
    }

    .modal-backdrop {
      z-index: 1050;
      background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-backdrop.show {
      opacity: 0.5;
    }

    .form-card {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 10px 17px;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      animation: slideUp 0.8s ease forwards;
      max-width: 700px;
      margin: 0 auto;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .form-header {
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: white;
      padding: 12px;
      border-radius: 15px;
      text-align: center;
      margin-bottom: 30px;
      font-size: 23px;
      font-weight: 600;
      position: relative;
      overflow: hidden;
    }

    .form-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: shine 2s infinite;
    }

    @keyframes shine {
      0% {
        left: -100%;
      }

      100% {
        left: 100%;
      }
    }

    .form-group {
      position: relative;
      margin-bottom: 30px;
    }

    .form-control,
    .form-select {
      width: 100%;
      border-bottom: 2px solid var(--gray);
      background: transparent;
      padding: 9px 3px;
      font-size: 1rem;
      color: var(--dark);
      transition: all 0.3s ease;
    }

    .form-control:focus,
    .form-select:focus {
      border-bottom-color: var(--primary);
      outline: none;
    }

    .form-label {
      position: absolute;
      top: 12px;
      left: 0;
      font-weight: 500;
      color: black;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .form-control:focus~.form-label,
    .form-control:not(:placeholder-shown)~.form-label,
    .form-select:focus~.form-label,
    .form-select:not([value=""])~.form-label {
      top: -20px;
      left: 0;
      font-size: 0.85rem;
      color: var(--primary);
    }

    .form-control:focus~.form-label::after,
    .form-control:not(:placeholder-shown)~.form-label::after,
    .form-select:focus~.form-label::after,
    .form-select:not([value=""])~.form-label::after {
      content: '*';
      color: var(--danger);
      margin-left: 5px;
    }

    .form-select option {
      background: var(--light);
      color: var(--dark);
    }

    .btn-success {
      background: linear-gradient(90deg, var(--success), var(--success-light));
      border: none;
      padding: 15px;
      border-radius: 50px;
      font-weight: 600;
      color: white;
      width: 100%;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .btn-success:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(108, 92, 231, 0.3);
    }

    .btn-success::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: shine 2s infinite;
    }

    .error-message {
      color: var(--danger);
      font-size: 0.85rem;
      margin-top: 5px;
      display: none;
    }

    .input-error .error-message {
      display: block;
    }

    .input-error .form-control,
    .input-error .form-select {
      border-bottom-color: var(--danger);
    }

    .form-icon {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
      transition: color 0.3s ease;
    }

    .form-control:focus~.form-icon,
    .form-select:focus~.form-icon {
      color: var(--primary);
    }

    /* form css */
    /* ssssssssssssss */
    /* table */
    .container-fluid.page-body-wrapper {
      display: flex;
      flex-direction: row;
    }

    .main-panel {
      flex-grow: 1;
      padding: 10px;
      transition: margin-left 0.3s ease;
    }

    @media (max-width: 991px) {
      .main-panel {
        margin-left: 0;
      }
    }

    .card {
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      border: none;
      overflow: hidden;
      margin-bottom: 30px;
      margin-left: 14px;
    }

    .card-header {
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: white;
      padding: 20px 25px;
      font-size: 1.4rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .card-body {
      padding: 25px;
    }

    .toolbar {
      display: flex;
      justify-content: end;
      align-items: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 15px;
      padding: 0 10px;
      margin-top: 10px;
    }

    .search-box {
      position: relative;
      flex: 1;
      min-width: 250px;
      max-width: 400px;
    }

    .search-box i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #9e9e9e;
    }

    .search-input {
      width: 100%;
      padding: 12px 15px 12px 45px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      font-size: 0.95rem;
      transition: all 0.3s ease;
      background-color: #f9f9f9;
    }

    .search-input:focus {
      outline: none;
      border-color: #1a73e8;
      background-color: white;
      box-shadow: 0 0 0 3px rgba(26, 115, 232, 0.1);
    }

    .filter-options {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .form-select {
      padding: 10px 15px;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      font-size: 0.95rem;
      background-color: #f9f9f9;
      cursor: pointer;
    }

    .btn-add {
      background: #4b49ac;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 500;
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(26, 115, 232, 0.2);
    }

    .btn-add:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(26, 115, 232, 0.3);
    }

    .table-responsive {
      overflow-x: auto;
      border-radius: 10px;
      background: white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    .equipment-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      min-width: 800px;
    }

    .equipment-table th {
      background-color: #f5f8ff;
      color: #1a73e8;
      font-weight: 600;
      padding: 16px 20px;
      text-align: left;
      border-bottom: 1px solid #e0e0e0;
      white-space: nowrap;
    }

    .equipment-table td {
      padding: 14px 20px;
      border-bottom: 1px solid #f0f0f0;
      vertical-align: middle;
    }

    .equipment-table tr:hover {
      background-color: #f9fbff;
    }

    .equipment-image {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      object-fit: cover;
    }

    .category-badge {
      display: inline-block;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      background-color: #e8f0fe;
      color: #1a73e8;
      font-weight: 500;
    }

    .quantity-display {
      position: relative;
      width: 80px;
    }

    .quantity-value {
      position: relative;
      z-index: 2;
      font-weight: 500;
    }

    .quantity-bar {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background-color: rgba(66, 133, 244, 0.1);
      border-radius: 4px;
      z-index: 1;
      transition: width 0.5s ease;
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 500;
      white-space: nowrap;
    }

    .status-badge i {
      margin-right: 5px;
      font-size: 0.9rem;
    }

    .in-stock {
      background-color: rgba(52, 168, 83, 0.1);
      color: #34a853;
    }

    .action-buttons {
      display: flex;
      gap: 8px;
    }

    .btn-action {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      background-color: transparent;
      color: #5f6368;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-action:hover {
      background-color: #f1f3f4;
      color: #1a73e8;
    }

    .btn-action.edit:hover {
      background-color: #fff8e1;
      color: #f9ab00;
    }

    /* table */

    .card1 {
      background-color: #fff;
      border-radius: 10px;
      border: none;
      position: relative;
      margin-bottom: 30px;
      box-shadow: 0 0.46875rem 2.1875rem rgba(90, 97, 105, 0.1),
        0 0.9375rem 1.40625rem rgba(90, 97, 105, 0.1),
        0 0.25rem 0.53125rem rgba(90, 97, 105, 0.12),
        0 0.125rem 0.1875rem rgba(90, 97, 105, 0.1);
    }

    .card .card-statistic-3 .card-icon-large .fas {
      font-size: 110px;
    }

    .card .card-statistic-3 .card-icon {
      text-align: center;
      line-height: 50px;
      margin-left: 15px;
      color: #000;
      position: absolute;
      right: -5px;
      top: 20px;
      opacity: 0.1;
    }

    /* Background Gradients */
    .l-bg-purple {
      background: linear-gradient(to right, #6a11cb, #2575fc) !important;
      color: #fff;
    }

    .l-bg-blue-dark {
      background: linear-gradient(to right, #373b44, #4286f4) !important;
      color: #fff;
    }

    .l-bg-green-dark {
      background: linear-gradient(to right, #0a504a, #38ef7d) !important;
      color: #fff;
    }

    .l-bg-red {
      background: linear-gradient(to right, #e53935, #e35d5b) !important;
      color: #fff;
    }

    .l-bg-orange {
      background: linear-gradient(to right, #f9900e, #ffba56) !important;
      color: #fff;
    }

    .l-bg-cyan {
      background: linear-gradient(135deg, #289cf5, #84c0ec) !important;
      color: #fff;
    }

    .l-bg-yellow {
      background: linear-gradient(to right, #f7971e, #ffd200) !important;
      color: #fff;
    }

    .l-bg-brown {
      background: linear-gradient(to right, #795548, #a1887f) !important;
      color: #fff;
    }
      .status-badge.in-stock {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background-color: #e6ffed;
  color: #28a745;
  border-radius: 12px;
  padding: 4px 8px;
  white-space: nowrap;
  font-size: 14px;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}
.status-col {
  max-width: 150px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
    
    /* ===== PROFESSIONAL MODAL STYLING ===== */
    .modal-content.form-card {
      border-radius: 15px !important;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1) !important;
      border: 1px solid rgba(0, 0, 0, 0.1) !important;
      overflow: hidden;
    }

    .form-header {
      position: relative;
      border-radius: 15px 15px 0 0 !important;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    }

    /* Professional Red Close Button */
    .btn-close-professional:hover {
      background: #c82333 !important;
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(220, 53, 69, 0.4);
    }

    .btn-close-professional:active {
      transform: scale(0.95);
    }

    /* Modal backdrop improvements */
    .modal-backdrop.show {
      opacity: 0.6 !important;
      background: rgba(0, 0, 0, 0.6) !important;
    }

    /* Professional form styling enhancements */
    .form-card {
      transition: transform 0.3s ease;
    }

    .modal.show .form-card {
      transform: scale(1);
      animation: modalSlideIn 0.3s ease-out;
    }

    @keyframes modalSlideIn {
      from {
        transform: translateY(-50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    \n    /* Dark Theme Support for Tables */\n    [data-theme=\"dark\"] .equipment-table,\n    [data-theme=\"dark\"] .table {\n      background: #1E293B !important;\n      color: #F8FAFC !important;\n    }\n    \n    [data-theme=\"dark\"] .equipment-table th,\n    [data-theme=\"dark\"] .table th {\n      background-color: #334155 !important;\n      color: #F8FAFC !important;\n      border-bottom: 1px solid #475569 !important;\n    }\n    \n    [data-theme=\"dark\"] .equipment-table td,\n    [data-theme=\"dark\"] .table td {\n      border-bottom: 1px solid #334155 !important;\n      color: #CBD5E1 !important;\n    }\n    \n    [data-theme=\"dark\"] .equipment-table tr:hover,\n    [data-theme=\"dark\"] .table tr:hover {\n      background-color: #334155 !important;\n    }\n    \n    [data-theme=\"dark\"] .table-responsive {\n      background: #1E293B !important;\n    }\n    \n  </style>

</head>
<body">
  <div class="container-scroller">
    <!-- partial:partials/_navbar -->
    <%- include ('../partials/_navbar.ejs') %>
      <!-- partial:partials/_navbar -->

      <!-- partial -->
      <div class="container-fluid page-body-wrapper pl-0">
        <!-- Include Settings Dow for theme synchronization -->
        <%- include('../partials/SettingsDow.ejs') %>

        <!-- NavBar Start -->
        <%- include ('../partials/Sidebar.ejs') %>
          <!-- NavBar End -->

          <div class="main-panel" style="padding-left: 0px !important; padding-right: 0px !important;">
            <!-- sss --> <!-- sss --> <!-- sss --> <!-- sss -->
            <% if (messages.success) { %>
              <div style="display: flex; justify-content: end;">
                <div id="pusher-message-box" style="
            display: flex;
            border-left: 8px solid #45439e;
            color: green;
            font-weight: bold;
            font-size: 16px;
            justify-content: end;
            align-items: center;
            height: 70px;
          " class="mt-3 alert alert-primary">
                  <%= messages.success %>
                </div>
              </div>
              <% } %>
                <script>
                  window.addEventListener('DOMContentLoaded', () => {
                    const msgBox = document.getElementById('pusher-message-box');
                    if (msgBox) {
                      setTimeout(() => {
                        msgBox.style.transition = "opacity 0.5s";
                        msgBox.style.opacity = 0;
                        setTimeout(() => msgBox.style.display = "none", 500);
                      }, 4000);
                    }
                  });
                </script>

                <script>
                  // Fix sidebar active state for User Equipment dropdown items
                  document.addEventListener('DOMContentLoaded', function() {
                    const currentPath = window.location.pathname;
                    
                    // Check if we're on any User Equipment page
                    const equipmentPages = {
                      '/ViewAllEquipments': 'All Stock',
                      '/AddNewEquipment': 'Add Stock', 
                      '/userEquipment': 'Assign Equipment'
                    };
                    
                    if (equipmentPages[currentPath]) {
                      // Find and expand the User Equipment dropdown
                      const equipmentMenu = document.getElementById('equipmentMenu');
                      const equipmentToggle = document.querySelector('a[href="#equipmentMenu"]');
                      
                      if (equipmentMenu && equipmentToggle) {
                        // Expand the dropdown
                        equipmentMenu.classList.add('show');
                        equipmentToggle.setAttribute('aria-expanded', 'true');
                        equipmentToggle.classList.add('expanded');
                        
                        // Find and mark the correct item as active
                        const activeLink = document.querySelector(`a[href="${currentPath}"]`);
                        if (activeLink) {
                          activeLink.classList.add('active');
                          activeLink.parentElement.classList.add('active');
                        }
                        
                        console.log(`Activated sidebar for ${equipmentPages[currentPath]} (${currentPath})`);
                        
                        // Simple force fix for dropdown background
                        setTimeout(() => {
                          const isDark = document.body.classList.contains('sidebar-dark');
                          if (isDark) {
                            equipmentMenu.style.setProperty('background', '#1a1f26', 'important');
                            const submenu = equipmentMenu.querySelector('ul');
                            if (submenu) {
                              submenu.style.setProperty('background', '#1a1f26', 'important');
                            }
                          }
                        }, 50);
                      }
                    }
                  });
                </script>
                <!-- sss --> <!-- sss --> <!-- sss --> <!-- sss -->
                <div class="content-wrapper">
                  <!-- Hero start -->
                  <div class="container-fluid" style="padding-left: 0px !important; padding-right: 0px !important;">

                    <!-- ssss -->
                    <div class="container-fluid" style="padding-left: 0px !important; padding-right: 0px !important;">

                      <div class="container-fluid" style="padding-left: 0px !important; padding-right: 0px !important;">

                        <!-- Dashboard Cards: First Row -->
                        <div class="container-fluid mt-4">
                          <div class="card-responsive-grid">
                            <!-- Total Team -->
                            <div class="card-responsive-item">
                              <a href="/AdminTeam" class="text-white text-decoration-none">
                                <div class="card l-bg-purple">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-users-cog"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Total Team</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= totalTeam %>
                                        </h2>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </a>
                            </div>

                            <!-- Total Users -->
                            <div class="card-responsive-item">
                              <a href="/AdminUser" class="text-white text-decoration-none">
                                <div class="card l-bg-blue-dark">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-user-friends"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Total Users</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= totalUsers %>
                                        </h2>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </a>
                            </div>

                            <!-- Total Request -->
                            <div class="card-responsive-item">
                              <a href="/request" class="text-white text-decoration-none">
                                <div class="card l-bg-green-dark">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-tasks"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Total Request</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= totalRequests %>
                                        </h2>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </a>
                            </div>

                            <!-- Total Complaints -->
                            <div class="card-responsive-item">
                              <a href="/UserComplaint" class="text-white text-decoration-none">
                                <div class="card l-bg-red">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-exclamation-triangle"></i>
                                    </div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Total Complaints</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= totalComplaints %>
                                        </h2>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </a>
                            </div>
                          </div>

                        </div>

                        <!-- Dashboard Cards: Second Row -->
                        <div class="container-fluid mt-4">
                          <div class="card-responsive-grid">
                            <!-- Unpaid Users -->
                            <div class="card-responsive-item">
                              <a href="/AdminUser?invoice=unpaid" class="text-white text-decoration-none">
                                <div class="card l-bg-orange">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-user-slash"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Unpaid Users</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= unpaidUsers %>
                                        </h2>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </a>
                            </div>

                            <!-- Completed Requests -->
                            <div class="card-responsive-item">
                              <a href="/UserComplaint" class="text-white text-decoration-none">
                                <div class="card l-bg-cyan">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-check-circle"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Completed Requests</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= CompletedCount %>
                                        </h2>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </a>
                            </div>

                            <!-- Pending Requests -->
                            <div class="card-responsive-item">
                              <a href="/UserComplaint" class="text-white text-decoration-none">
                                <div class="card l-bg-yellow">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-hourglass-half"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white">Pending Requests</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= pendingCount %>
                                        </h2>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </a>
                            </div>

                            <!-- Packages Expiring -->
                            <div class="card-responsive-item">
                              <a href="/AdminUser" class="text-white text-decoration-none">
                                <div class="card l-bg-brown">
                                  <div class="card-statistic-3 p-4">
                                    <div class="card-icon card-icon-large"><i class="fas fa-calendar-times"></i></div>
                                    <div class="mb-4">
                                      <h5 class="card-title mb-0 text-white" style="font-size: 14px;">Packages Expiring
                                        in 7 Days</h5>
                                    </div>
                                    <div class="row align-items-center mb-2 d-flex">
                                      <div class="col-8">
                                        <h2 class="d-flex align-items-center mb-0">
                                          <%= expiringSoon %>
                                        </h2>
                                      </div>
                                    </div>

                                  </div>
                                </div>
                              </a>
                            </div>
                          </div>
                        </div>


                      </div>

                      <!-- Sale & Revenue End -->


                      <!-- Sales Chart Start -->
                      <div class="container-fluid p-4">
                        <div class="row justify-content-center">
                          <div class="col-md-3 mb-4">
                            <div class="custom-card1 text-white text-center"
                              style="background-color: #1b263b; border: none; border-radius: 15px; padding: 20px; height: 400px;">
                              <h5 class="mb-3">User Statistics</h5>
                              <div class="chart-container" style="position: relative; height: 200px; margin-bottom: 20px;">
                                <canvas id="userStatsChart"></canvas>
                              </div>
                              <h2 class="my-3"><%= totalUsers + totalTeam %></h2>
                              <ul class="list-unstyled">
                                <li><span class="text-success">&#9679;</span> Users - <%= Math.round((totalUsers / (totalUsers + totalTeam)) * 100) %>%</li>
                                <li><span class="text-info">&#9679;</span> Team - <%= Math.round((totalTeam / (totalUsers + totalTeam)) * 100) %>%</li>
                                <li><span class="text-warning">&#9679;</span> Unpaid - <%= Math.round((unpaidUsers / totalUsers) * 100) %>%</li>
                              </ul>
                            </div>
                          </div>

                          <div class="col-md-9 mb-4">
                            <div class="custom-card text-white"
                              style="background-color: #1b263b; border: none; border-radius: 15px; padding: 20px; height: 400px;">
                              <div class="d-flex justify-content-between align-items-center mb-3">
                                <h5>System Activity Overview</h5>
                                <h4><%= totalRequests %> <span class="badge bg-success">Live Data</span></h4>
                              </div>

                              <div class="chart-container" style="position: relative; height: 250px;">
                                <canvas id="activityChart"></canvas>
                              </div>

                              <div class="mt-4 d-flex justify-content-between align-items-center">
                                <div>
                                  <span class="text-purple">&#9679; Requests</span>
                                  <span class="text-white">&#9679; Complaints</span>
                                  <span class="text-info">&#9679; Completed</span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Scripts -->
                      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                      <script>
                        // User Statistics Doughnut Chart
                        const ctxUserStats = document.getElementById('userStatsChart').getContext('2d');
                        const userStatsChart = new Chart(ctxUserStats, {
                          type: 'doughnut',
                          data: {
                            labels: ['Regular Users', 'Team Members', 'Unpaid Users'],
                            datasets: [{
                              data: [<%= totalUsers - unpaidUsers %>, <%= totalTeam %>, <%= unpaidUsers %>],
                              backgroundColor: ['#4caf50', '#2196f3', '#ff9800'],
                              borderColor: ['#4caf50', '#2196f3', '#ff9800'],
                              borderWidth: 2
                            }]
                          },
                          options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            plugins: {
                              legend: { display: false },
                              tooltip: {
                                callbacks: {
                                  label: function(context) {
                                    const label = context.label;
                                    const value = context.parsed;
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = Math.round((value / total) * 100);
                                    return `${label}: ${value} (${percentage}%)`;
                                  }
                                }
                              }
                            },
                            cutout: '60%'
                          }
                        });

                        // System Activity Bar Chart
                        const ctxActivity = document.getElementById('activityChart').getContext('2d');
                        const activityChart = new Chart(ctxActivity, {
                          type: 'bar',
                          data: {
                            labels: ['Total Requests', 'Total Complaints', 'Completed Tasks', 'Pending Tasks', 'Expiring Soon'],
                            datasets: [{
                              label: 'Count',
                              data: [<%= totalRequests %>, <%= totalComplaints %>, <%= CompletedCount %>, <%= pendingCount %>, <%= expiringSoon %>],
                              backgroundColor: ['#c084fc', '#60a5fa', '#22d3ee', '#fbbf24', '#f87171'],
                              borderColor: ['#c084fc', '#60a5fa', '#22d3ee', '#fbbf24', '#f87171'],
                              borderWidth: 1,
                              borderRadius: 8,
                              borderSkipped: false
                            }]
                          },
                          options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                              y: { 
                                beginAtZero: true, 
                                ticks: { 
                                  color: '#ffffff',
                                  stepSize: 1
                                }, 
                                grid: { color: '#334155' } 
                              },
                              x: { 
                                ticks: { 
                                  color: '#ffffff',
                                  maxRotation: 45,
                                  minRotation: 0
                                }, 
                                grid: { display: false } 
                              }
                            },
                            plugins: { 
                              legend: { display: false },
                              tooltip: {
                                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                                titleColor: '#ffffff',
                                bodyColor: '#ffffff',
                                borderColor: '#ffffff',
                                borderWidth: 1
                              }
                            },
                            animation: {
                              duration: 1500,
                              easing: 'easeInOutQuart'
                            }
                          }
                        });

                        // Real-time data update function
                        async function updateChartData() {
                          try {
                            const response = await fetch('/api/dashboard-data');
                            const data = await response.json();
                            
                            // Update user stats chart
                            userStatsChart.data.datasets[0].data = [
                              data.totalUsers - data.unpaidUsers,
                              data.totalTeam,
                              data.unpaidUsers
                            ];
                            userStatsChart.update('none');
                            
                            // Update activity chart
                            activityChart.data.datasets[0].data = [
                              data.totalRequests,
                              data.totalComplaints,
                              data.CompletedCount,
                              data.pendingCount,
                              data.expiringSoon
                            ];
                            activityChart.update('none');
                            
                            // Update total display
                            document.querySelector('.col-md-3 h2').textContent = data.totalUsers + data.totalTeam;
                            
                            console.log('✅ Charts updated with real-time data:', data);
                          } catch (error) {
                            console.error('❌ Error fetching dashboard data:', error);
                          }
                        }

                        // Auto-refresh charts every 30 seconds
                        setInterval(updateChartData, 30000);
                        
                        // Update immediately on load
                        setTimeout(updateChartData, 2000);
                      </script>


                      <!-- table For the user -->
                      <div class="content-wrapper">
                        <div class="card">
                          <div class="card-header" style="display: flex; justify-content: center;">
                            All Users
                          </div>


                          <div class="toolbar">
                            <!-- <div class="search-box">
                          <i class="fas fa-search"></i>
                          <form action="/AdminUser" method="GET">
                            <input type="text" name="search" placeholder="Search by username..." value="<%= typeof search !== 'undefined' ? search : '' %>" class="search-input">
                            <input type="hidden" name="page" value="1">
                          </form>
                        </div> -->
                            <div class="filter-options">

                              <a href="/AddUser" style="text-decoration: none;">
                                <button class="btn-add">
                                  <i class="fas fa-plus mr-2"></i>Add User
                                </button>
                              </a>
                            </div>
                          </div>
                          <!-- Desktop Table View -->
                          <div class="desktop-table">
                            <div class="table-responsive">
                              <table class="equipment-table">
                              <thead>
                                <tr>
                                  <th class="name-col">Image</th>
                                  <th class="name-col">Username</th>
                                  <th class="type-col">Email</th>
                                  <th class="category-col">Role</th>
                                  <th class="quantity-col">Package</th>
                                  <th class="status-col">Expiry Date</th>
                                </tr>
                              </thead>
                              <tbody>
                                <% user.forEach(user=> { %>
                                  <tr>
                                    <td class="name-col">
                                      <div class="equipment-info">
                                        <img class="equipment-image"
                                          src="<%= user.user_img ? (user.user_img.startsWith('http') ? user.user_img : '/uploads/' + user.user_img) : '/images/profile-1740414577370.webp' %>"
                                          alt="User">
                                      </div>
                                    </td>
                                    <td class="type-col">
                                      <%= user.username %>
                                    </td>
                                    <td class="category-col"><span class="category-badge">
                                        <%= user.Email %>
                                      </span></td>
                                    <td class="quantity-col">
                                      <div class="quantity-display">
                                        <div class="quantity-value">
                                          <%= user.role %>
                                        </div>
                                        <div class="quantity-bar" style="width: 60%"></div>
                                      </div>
                                    </td>
                                    <td class="status-col">
                                      <span class="status-badge in-stock">
                                        <i class="fas fa-check-circle"></i>
                                        <%= user.plan %> GB
                                      </span>
                                    </td>
                                    <td class="type-col">
                                      <% if (user.expiry) { %>
                                        <%= new Date(user.expiry).toISOString().split('T')[0] %>
                                          <% } else { %>
                                            N/A
                                            <% } %>
                                    </td>

                                  </tr>
                                  <% }) %>
                              </tbody>
                              </table>
                            </div>
                          </div>

                          <!-- Mobile Cards View -->
                          <div class="mobile-cards">
                            <% user.forEach(user => { %>
                              <div class="user-card">
                                <div class="user-card-header">
                                  <img class="user-card-avatar" 
                                       src="<%= user.user_img ? (user.user_img.startsWith('http') ? user.user_img : '/uploads/' + user.user_img) : '/images/profile-1740414577370.webp' %>" 
                                       alt="<%= user.username %>">
                                  <div class="user-card-name">
                                    <h6><%= user.username %></h6>
                                    <p><%= user.Email %></p>
                                  </div>
                                </div>
                                
                                <div class="user-card-content">
                                  <div class="user-card-field">
                                    <div class="user-card-label">Role</div>
                                    <div class="user-card-value">
                                      <span class="mobile-badge role"><%= user.role %></span>
                                    </div>
                                  </div>
                                  
                                  <div class="user-card-field">
                                    <div class="user-card-label">Package</div>
                                    <div class="user-card-value">
                                      <span class="mobile-badge package"><%= user.packageName %></span>
                                    </div>
                                  </div>
                                  
                                  <div class="user-card-field">
                                    <div class="user-card-label">Expiry Date</div>
                                    <div class="user-card-value">
                                      <%= user.expiryDate %>
                                    </div>
                                  </div>
                                  
                                  <div class="user-card-field">
                                    <div class="user-card-label">Status</div>
                                    <div class="user-card-value">
                                      <% 
                                        let currentDate = new Date();
                                        let expiry = new Date(user.expiryDate);
                                        let isExpired = expiry < currentDate;
                                      %>
                                      <span class="mobile-badge <%= isExpired ? 'expired' : 'active' %>">
                                        <%= isExpired ? 'Expired' : 'Active' %>
                                      </span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            <% }) %>
                          </div>
                          <!-- table For the user -->

                          <!-- update the CARD ONALY THE ADMIN -->
                          <% cards.forEach(card=> { %>
                            <div class="modal fade come-from-modal pr-0" id="myModalss<%= card.id %>" tabindex="-1"
                              role="dialog" aria-labelledby="myModalLabel<%= card.id %>">
                              <div class="modal-dialog modal-lg modal-dialog-centered">
                                <div class="modal-content form-card">

                                  <!-- Modal Header -->
                                  <div class="form-header">
                                    <h5 class="modal-title" id="myModalLabel<%= card.id %>">
                                      <i class="fas fa-box-open me-2"></i> Update Package
                                    </h5>
                                  </div>

                                  <!-- Modal Body with Form -->
                                  <div class="modal-body">
                                    <form action="/Cards/update/<%= card.id %>" method="POST">

                                      <!-- First Row -->
                                      <div class="d-flex gap-4 mb-3" style="gap: 8px !important;">
                                        <div class="form-group w-100">
                                          <input type="text" name="Package" id="Package" class="form-control"
                                            value="<%= card.Package %>" required placeholder="Update your Package">
                                          <label for="Package" class="form-label">Package Name</label>
                                        </div>
                                        <div class="form-group w-100">
                                          <input type="number" name="Price" id="Price" class="form-control"
                                            value="<%= card.Price %>" required placeholder="Update your Price">
                                          <label for="Price" class="form-label">Price</label>
                                        </div>
                                      </div>

                                      <!-- Second Row -->
                                      <div class="d-flex gap-4 mb-3" style="gap: 8px !important;">
                                        <div class="form-group w-100">
                                          <input type="text" name="Speed" id="Speed" class="form-control"
                                            value="<%= card.Speed %>" required placeholder="Update your Speed">
                                          <label for="Speed" class="form-label">Speed</label>
                                        </div>
                                        <div class="form-group w-100">
                                          <input type="text" name="Data_Used" id="Data_Used" class="form-control"
                                            value="<%= card.Data_Used %>" required placeholder="Update your Data Used">
                                          <label for="Data_Used" class="form-label">Data Used</label>
                                        </div>
                                      </div>

                                      <!-- Third Row -->
                                      <div class="d-flex mb-4" style="gap: 8px !important;">
                                        <div class="form-group w-100">
                                          <input type="date" name="Offer_Valid" id="Offer_Valid" class="form-control"
                                            value="<%= card.Offer_Valid %>" required placeholder="Update Offer Valid">
                                          <label for="Offer_Valid" class="form-label">Offer Valid Until</label>
                                        </div>
                                        <div class="form-group w-100">
                                          <input type="text" name="limits" id="limits" class="form-control"
                                            value="<%= card.limits %>" required placeholder="Update your limits">
                                          <label for="limits" class="form-label">Limits</label>
                                        </div>
                                      </div>

                                      <!-- Submit Button -->
                                      <button type="submit" class="btn btn-success">
                                        <i class="fas fa-save me-2"></i> Update Package
                                      </button>
                                    </form>
                                  </div>

                                  <!-- Professional Red Close Button -->
                                  <button type="button" class="btn-close-professional" data-bs-dismiss="modal" aria-label="Close"
                                    style="position: absolute; top: 20px; right: 20px; width: 32px; height: 32px; background: #dc3545; color: white; border: none; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; font-weight: bold; transition: all 0.3s ease; box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);">
                                    <i class="fas fa-times"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                            <% }) %>

                              <!-- update the CARD ONALY THE ADMIN -->
                        </div>

                        <!-- Main Card Start -->
                        <div class="container mt-3">
                          <div class="row">
                            <!-- Right Section (Cards Slider) -->
                            <section>
                              <div class="container-fluid" style="padding-right: 0px;padding-left: 0px;">
                                <div class="container">

                                  <div class="cards-main">
                                    <% cards.forEach(function(card, index) { let cardType=index===0 ? 'basic' :
                                      index===1 ? 'standard' : 'premium' ; %>
                                      <div class="card custom-cardd <%= cardType %>" style="border: none;">
                                        <div class="card-top">
                                          <% if (index===0) { %>
                                            <h2>BASIC</h2>
                                            <div class="stars">★★</div>
                                            <% } else if (index===1) { %>
                                              <h2>STANDARD</h2>
                                              <div class="stars">★★★</div>
                                              <% } else if (index===2) { %>
                                                <h2>PREMIUM</h2>
                                                <div class="stars">★★★★</div>
                                                <% } %>
                                        </div>
                                        <div class="price-circle">
                                          <div style="text-align: center;">
                                            <%= card.Package %>
                                              </sup>Mbps</h4>
                                          </div>
                                          <div>PER MONTH</div>
                                        </div>
                                        <div class="features">
                                          <p><span>✔</span>
                                            Rs. <%= card.Price %>
                                          </p>
                                          <p><span>✔</span>
                                            <%= card.Speed %> Mbs speed
                                          </p>
                                          <p><span>✔</span>
                                            <%= card.Offer_Valid %>
                                          </p>
                                          <p><span>✔</span>
                                            <%= card.Data_Used %> GB Usage
                                          </p>
                                          <p><span>✔</span>
                                            <%= card.limits %> GB Limits
                                          </p>
                                        </div>
                                        <% if (isAdmin) { %>
                                          <div class="d-flex justify-content-center mb-2">
                                           <button class="btn btn-success mt-3 rounded-pill"
        data-bs-toggle="modal"
        data-bs-target="#myModalss<%= card.id %>">

                                              
                                              <i class="fa fa-edit" aria-hidden="true"></i> Edit Package
                                            </button>
                                          </div>
                                          <% } %>
                                      </div>
                                      <% }); %>
                                  </div>
                                </div>
                              </div>
                            </section>
                          </div>
                        </div>
                        
                      </div>
                    </div>

                    <SCript>
                      document.addEventListener('DOMContentLoaded', function () {
                        const iconSlider = document.querySelector('#iconSlider');

                        iconSlider.addEventListener('mouseenter', function () {
                          $('#iconSlider').carousel('pause');
                        });

                        iconSlider.addEventListener('mouseleave', function () {
                          $('#iconSlider').carousel('cycle');
                        });
                      });
                    </SCript>

                    <!-- plugins:js -->
   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/off-canvas.js"></script>
  <script src="/js/billing-payments-common.js"></script>

   <!-- Bootstrap JS and Popper.js -->
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>

      <!-- Vendor and Custom Scripts -->
      <script src="/vendors/js/vendor.bundle.base.js"></script>
      <script src="/vendors/chart.js/Chart.min.js"></script>
      <script src="/vendors/datatables.net/jquery.dataTables.js"></script>
      <script src="/vendors/datatables.net-bs4/dataTables.bootstrap4.js"></script>
      <script src="/js/dataTables.select.min.js"></script>
      <script src="/js/off-canvas.js"></script>
      <script src="/js/hoverable-collapse.js"></script>
      <script src="/js/template.js"></script>
      <script src="/js/billing-payments-common.js"></script>
      <script src="/js/settings.js"></script>
      <script src="/js/dashboard.js"></script>
      <script src="/js/Chart.roundedBarCharts.js"></script>
      <!-- jQuery -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
                    
                    </body>

</html>